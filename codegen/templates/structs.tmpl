{{- /* template to render edge gateway http client code */ -}}
{{- /* TODO(zw): refactor it to two templates */ -}}
// Code generated by zanzibar
// @generated

package {{.PackageName}}

import (
	"runtime"
	"path/filepath"

	{{range $idx, $pkg := .IncludedPackages -}}
	"{{$pkg}}"
	{{end}}
)

func getDirName() string {
	/* coverage ignore next line */
	_, file, _, _ := runtime.Caller(0)

	/* coverage ignore next line */
	return filepath.Dir(file)
}

{{range .Services}}

{{/*  ========================= Method =========================  */ -}}

{{range .Methods}}
{{if len .RequestStruct | ne 0}} {{- /* generate struct to wrap request args*/ -}}
// {{.RequestType}} is the http body type for endpoint {{.Name}}.
type {{.RequestType}} struct {
{{range .RequestStruct}} {{- printf "    %s %s\n" (title .Name) .Type -}}
{{end -}}
}{{end -}}

{{end}} {{- /* <range .Methods> */ -}}
{{end}} {{- /* <range .Services> */ -}}
